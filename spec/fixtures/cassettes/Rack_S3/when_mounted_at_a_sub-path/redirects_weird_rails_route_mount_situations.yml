---
http_interactions:
- request:
    method: put
    uri: http://localhost:9000/rack-s3-test
    body:
      encoding: UTF-8
      string: ''
    headers:
      Content-Type:
      - ''
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.105.0 ruby/2.7.1 x86_64-darwin19 aws-sdk-s3/1.79.1
      Host:
      - localhost:9000
      X-Amz-Date:
      - 20200907T083922Z
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      Authorization:
      - AWS4-HMAC-SHA256 Credential=lolololol/20200907/us-east-1/s3/aws4_request,
        SignedHeaders=host;user-agent;x-amz-content-sha256;x-amz-date, Signature=e72e95e8089d91f13436fd939496b19f8a475f0a1dbcfb4ee1d5307fd2ae954e
      Content-Length:
      - '0'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Accept-Ranges:
      - bytes
      Content-Length:
      - '0'
      Content-Security-Policy:
      - block-all-mixed-content
      Location:
      - "/rack-s3-test"
      Server:
      - MinIO/RELEASE.2020-08-27T05-16-20Z
      Vary:
      - Origin
      X-Amz-Request-Id:
      - 163273A31EBF33D0
      X-Xss-Protection:
      - 1; mode=block
      Date:
      - Mon, 07 Sep 2020 08:39:22 GMT
    body:
      encoding: UTF-8
      string: ''
  recorded_at: Mon, 07 Sep 2020 08:39:22 GMT
- request:
    method: put
    uri: http://localhost:9000/rack-s3-test/foo
    body:
      encoding: UTF-8
      string: bar
    headers:
      Content-Type:
      - some/type
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.105.0 ruby/2.7.1 x86_64-darwin19 aws-sdk-s3/1.79.1
      Expect:
      - 100-continue
      Content-Md5:
      - N7UdGUp1E+RbVvZSTy1R8g==
      Host:
      - localhost:9000
      X-Amz-Date:
      - 20200907T083922Z
      X-Amz-Content-Sha256:
      - fcde2b2edba56bf408601fb721fe9b5c338d10ee429ea04fae5511b68fbf8fb9
      Authorization:
      - AWS4-HMAC-SHA256 Credential=lolololol/20200907/us-east-1/s3/aws4_request,
        SignedHeaders=content-md5;content-type;host;user-agent;x-amz-content-sha256;x-amz-date,
        Signature=d65d3736cf4d4b39f97dd2451c17db028671f315bddd4b024c21930edd702885
      Content-Length:
      - '3'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Accept-Ranges:
      - bytes
      Content-Length:
      - '0'
      Content-Security-Policy:
      - block-all-mixed-content
      Etag:
      - '"37b51d194a7513e45b56f6524f2d51f2"'
      Server:
      - MinIO/RELEASE.2020-08-27T05-16-20Z
      Vary:
      - Origin
      X-Amz-Request-Id:
      - 163273A31F1C76D0
      X-Xss-Protection:
      - 1; mode=block
      Date:
      - Mon, 07 Sep 2020 08:39:22 GMT
    body:
      encoding: UTF-8
      string: ''
  recorded_at: Mon, 07 Sep 2020 08:39:22 GMT
- request:
    method: put
    uri: http://localhost:9000/rack-s3-test/index.html
    body:
      encoding: UTF-8
      string: Hello <strong>world</strong>!
    headers:
      Content-Type:
      - text/html
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.105.0 ruby/2.7.1 x86_64-darwin19 aws-sdk-s3/1.79.1
      Expect:
      - 100-continue
      Content-Md5:
      - nyvL1KRjGvwm/nk2og0FRQ==
      Host:
      - localhost:9000
      X-Amz-Date:
      - 20200907T083922Z
      X-Amz-Content-Sha256:
      - 7f58f86788daf2ed11a5c98d5c1a43bab5dbe3702584bc348c71c3d8926da719
      Authorization:
      - AWS4-HMAC-SHA256 Credential=lolololol/20200907/us-east-1/s3/aws4_request,
        SignedHeaders=content-md5;content-type;host;user-agent;x-amz-content-sha256;x-amz-date,
        Signature=22bca9a3fd84d3e4f6c281ca1a23738a4940b4a7cecfc677213dabbf2c11b1f1
      Content-Length:
      - '29'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Accept-Ranges:
      - bytes
      Content-Length:
      - '0'
      Content-Security-Policy:
      - block-all-mixed-content
      Etag:
      - '"9f2bcbd4a4631afc26fe7936a20d0545"'
      Server:
      - MinIO/RELEASE.2020-08-27T05-16-20Z
      Vary:
      - Origin
      X-Amz-Request-Id:
      - 163273A31F5D0A10
      X-Xss-Protection:
      - 1; mode=block
      Date:
      - Mon, 07 Sep 2020 08:39:22 GMT
    body:
      encoding: UTF-8
      string: ''
  recorded_at: Mon, 07 Sep 2020 08:39:22 GMT
- request:
    method: put
    uri: http://localhost:9000/rack-s3-test/prefix/foo
    body:
      encoding: UTF-8
      string: prefixed
    headers:
      Content-Type:
      - some/type
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.105.0 ruby/2.7.1 x86_64-darwin19 aws-sdk-s3/1.79.1
      Expect:
      - 100-continue
      Content-Md5:
      - iFNLQdJUHoDUnhhBluheJg==
      Host:
      - localhost:9000
      X-Amz-Date:
      - 20200907T083922Z
      X-Amz-Content-Sha256:
      - 3c424ff7cf6f428675241fa35b15c8509c49f3db834d97a0b3b8f6b42d9305ff
      Authorization:
      - AWS4-HMAC-SHA256 Credential=lolololol/20200907/us-east-1/s3/aws4_request,
        SignedHeaders=content-md5;content-type;host;user-agent;x-amz-content-sha256;x-amz-date,
        Signature=7d070d8448cf22fe91356f540b1b4fb63eb39f9c4f859f1566c27ecf8565876d
      Content-Length:
      - '8'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Accept-Ranges:
      - bytes
      Content-Length:
      - '0'
      Content-Security-Policy:
      - block-all-mixed-content
      Etag:
      - '"88534b41d2541e80d49e184196e85e26"'
      Server:
      - MinIO/RELEASE.2020-08-27T05-16-20Z
      Vary:
      - Origin
      X-Amz-Request-Id:
      - 163273A31FA0A6A8
      X-Xss-Protection:
      - 1; mode=block
      Date:
      - Mon, 07 Sep 2020 08:39:22 GMT
    body:
      encoding: UTF-8
      string: ''
  recorded_at: Mon, 07 Sep 2020 08:39:22 GMT
- request:
    method: put
    uri: http://localhost:9000/rack-s3-test/prefix/index.html
    body:
      encoding: UTF-8
      string: Hello <strong>prefixed</strong>!
    headers:
      Content-Type:
      - text/html
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.105.0 ruby/2.7.1 x86_64-darwin19 aws-sdk-s3/1.79.1
      Expect:
      - 100-continue
      Content-Md5:
      - 2Iv14JSJh3Bx8UTAX6NP2A==
      Host:
      - localhost:9000
      X-Amz-Date:
      - 20200907T083922Z
      X-Amz-Content-Sha256:
      - 573a1a974ac8cb2b6220238de257866d36e7bb3fa9c4761a007a6ccc771b9671
      Authorization:
      - AWS4-HMAC-SHA256 Credential=lolololol/20200907/us-east-1/s3/aws4_request,
        SignedHeaders=content-md5;content-type;host;user-agent;x-amz-content-sha256;x-amz-date,
        Signature=74066020167bd8889c826142ab053131aea6d7efba064d9c0e26fea8179f823e
      Content-Length:
      - '32'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Accept-Ranges:
      - bytes
      Content-Length:
      - '0'
      Content-Security-Policy:
      - block-all-mixed-content
      Etag:
      - '"d88bf5e09489877071f144c05fa34fd8"'
      Server:
      - MinIO/RELEASE.2020-08-27T05-16-20Z
      Vary:
      - Origin
      X-Amz-Request-Id:
      - 163273A31FEC6160
      X-Xss-Protection:
      - 1; mode=block
      Date:
      - Mon, 07 Sep 2020 08:39:22 GMT
    body:
      encoding: UTF-8
      string: ''
  recorded_at: Mon, 07 Sep 2020 08:39:22 GMT
- request:
    method: get
    uri: http://localhost:9000/rack-s3-test?encoding-type=url
    body:
      encoding: UTF-8
      string: ''
    headers:
      Content-Type:
      - ''
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.105.0 ruby/2.7.1 x86_64-darwin19 aws-sdk-s3/1.79.1
      Host:
      - localhost:9000
      X-Amz-Date:
      - 20200907T083922Z
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      Authorization:
      - AWS4-HMAC-SHA256 Credential=lolololol/20200907/us-east-1/s3/aws4_request,
        SignedHeaders=host;user-agent;x-amz-content-sha256;x-amz-date, Signature=18b6e5481dfcf438dd45b1d88efd5c4fa5d7539b8817a8f6a790f67fd0401203
      Content-Length:
      - '0'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Accept-Ranges:
      - bytes
      Content-Length:
      - '1559'
      Content-Security-Policy:
      - block-all-mixed-content
      Content-Type:
      - application/xml
      Server:
      - MinIO/RELEASE.2020-08-27T05-16-20Z
      Vary:
      - Origin
      X-Amz-Request-Id:
      - 163273A32053E560
      X-Xss-Protection:
      - 1; mode=block
      Date:
      - Mon, 07 Sep 2020 08:39:22 GMT
    body:
      encoding: UTF-8
      string: |-
        <?xml version="1.0" encoding="UTF-8"?>
        <ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>rack-s3-test</Name><Prefix></Prefix><Marker></Marker><MaxKeys>1000</MaxKeys><Delimiter></Delimiter><IsTruncated>false</IsTruncated><Contents><Key>foo</Key><LastModified>2020-09-07T08:39:22.109Z</LastModified><ETag>&#34;37b51d194a7513e45b56f6524f2d51f2&#34;</ETag><Size>3</Size><Owner><ID>02d6176db174dc93cb1b899f7c6078f08654445fe8cf1b6ce98d8855f66bdbf4</ID><DisplayName></DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>index.html</Key><LastModified>2020-09-07T08:39:22.113Z</LastModified><ETag>&#34;9f2bcbd4a4631afc26fe7936a20d0545&#34;</ETag><Size>29</Size><Owner><ID>02d6176db174dc93cb1b899f7c6078f08654445fe8cf1b6ce98d8855f66bdbf4</ID><DisplayName></DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>prefix/foo</Key><LastModified>2020-09-07T08:39:22.118Z</LastModified><ETag>&#34;88534b41d2541e80d49e184196e85e26&#34;</ETag><Size>8</Size><Owner><ID>02d6176db174dc93cb1b899f7c6078f08654445fe8cf1b6ce98d8855f66bdbf4</ID><DisplayName></DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>prefix/index.html</Key><LastModified>2020-09-07T08:39:22.123Z</LastModified><ETag>&#34;d88bf5e09489877071f144c05fa34fd8&#34;</ETag><Size>32</Size><Owner><ID>02d6176db174dc93cb1b899f7c6078f08654445fe8cf1b6ce98d8855f66bdbf4</ID><DisplayName></DisplayName></Owner><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>
  recorded_at: Mon, 07 Sep 2020 08:39:22 GMT
- request:
    method: post
    uri: http://localhost:9000/rack-s3-test?delete
    body:
      encoding: UTF-8
      string: |
        <Delete xmlns="http://s3.amazonaws.com/doc/2006-03-01/">
          <Object>
            <Key>foo</Key>
          </Object>
          <Object>
            <Key>index.html</Key>
          </Object>
          <Object>
            <Key>prefix/foo</Key>
          </Object>
          <Object>
            <Key>prefix/index.html</Key>
          </Object>
        </Delete>
    headers:
      Content-Type:
      - ''
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.105.0 ruby/2.7.1 x86_64-darwin19 aws-sdk-s3/1.79.1
      Expect:
      - 100-continue
      Content-Md5:
      - HLtXuPYr5Xe7UqCr8iqxrQ==
      Host:
      - localhost:9000
      X-Amz-Date:
      - 20200907T083922Z
      X-Amz-Content-Sha256:
      - 933035c1a9bd261d148bb40cbf5b7352dd524ad9ec50b064571c033df721b553
      Authorization:
      - AWS4-HMAC-SHA256 Credential=lolololol/20200907/us-east-1/s3/aws4_request,
        SignedHeaders=content-md5;host;user-agent;x-amz-content-sha256;x-amz-date,
        Signature=a56edea6e33a5590db196d6080f2ae4f3ef72927b43ed182e9de261fbfead80e
      Content-Length:
      - '263'
      Accept:
      - "*/*"
  response:
    status:
      code: 200
      message: OK
    headers:
      Accept-Ranges:
      - bytes
      Content-Length:
      - '276'
      Content-Security-Policy:
      - block-all-mixed-content
      Content-Type:
      - application/xml
      Server:
      - MinIO/RELEASE.2020-08-27T05-16-20Z
      Vary:
      - Origin
      X-Amz-Request-Id:
      - 163273A320B0AB60
      X-Xss-Protection:
      - 1; mode=block
      Date:
      - Mon, 07 Sep 2020 08:39:22 GMT
    body:
      encoding: UTF-8
      string: |-
        <?xml version="1.0" encoding="UTF-8"?>
        <DeleteResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Deleted><Key>foo</Key></Deleted><Deleted><Key>index.html</Key></Deleted><Deleted><Key>prefix/foo</Key></Deleted><Deleted><Key>prefix/index.html</Key></Deleted></DeleteResult>
  recorded_at: Mon, 07 Sep 2020 08:39:22 GMT
- request:
    method: delete
    uri: http://localhost:9000/rack-s3-test
    body:
      encoding: UTF-8
      string: ''
    headers:
      Content-Type:
      - ''
      Accept-Encoding:
      - ''
      User-Agent:
      - aws-sdk-ruby3/3.105.0 ruby/2.7.1 x86_64-darwin19 aws-sdk-s3/1.79.1
      Host:
      - localhost:9000
      X-Amz-Date:
      - 20200907T083922Z
      X-Amz-Content-Sha256:
      - e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
      Authorization:
      - AWS4-HMAC-SHA256 Credential=lolololol/20200907/us-east-1/s3/aws4_request,
        SignedHeaders=host;user-agent;x-amz-content-sha256;x-amz-date, Signature=dd6f4424cd3d2f99e24dd936036150113ec30a9a890c265cb82a379122d54eba
      Content-Length:
      - '0'
      Accept:
      - "*/*"
  response:
    status:
      code: 204
      message: No Content
    headers:
      Accept-Ranges:
      - bytes
      Content-Security-Policy:
      - block-all-mixed-content
      Server:
      - MinIO/RELEASE.2020-08-27T05-16-20Z
      Vary:
      - Origin
      X-Amz-Request-Id:
      - 163273A320FD96C8
      X-Xss-Protection:
      - 1; mode=block
      Date:
      - Mon, 07 Sep 2020 08:39:22 GMT
    body:
      encoding: UTF-8
      string: ''
  recorded_at: Mon, 07 Sep 2020 08:39:22 GMT
recorded_with: VCR 6.0.0
